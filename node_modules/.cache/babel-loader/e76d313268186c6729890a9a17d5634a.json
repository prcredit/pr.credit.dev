{"ast":null,"code":"import _objectSpread from\"/home/vetal-home-work/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/apps/sincere/explorer-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/vetal-home-work/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/apps/sincere/explorer-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{NavLink,useLocation,useHistory}from'react-router-dom';import{MultiLangContext}from'../../context/MultiLang/MultiLang';import'./Search.scss';import{classModifier}from\"../../utils\";import{ROUTES}from\"../../config/constants\";var Search=function Search(){var location=useLocation();var history=useHistory();var _useContext=useContext(MultiLangContext),words=_useContext.words;var _useState=useState({value:'',link:'#'}),_useState2=_slicedToArray(_useState,2),searchState=_useState2[0],setSearchState=_useState2[1];function handleChange(e){var value=e.target.value.split(' ').join('');// const link = () => { // TODO find work solution with switch/case\n//   switch (value.length) {\n//     case 64:\n//       return ROUTES.setTxRoute(value);\n//     case 40:\n//       return ROUTES.setAddressRoute(value)\n//     default:\n//       return ROUTES.setBlockRoute(value)\n//   }\n// }\nvar link=\"\";if(value.length===64){link=ROUTES.setTxRoute(value);}else if(value.length===40){link=ROUTES.setAddressRoute(value);}else{link=ROUTES.setBlockRoute(value);}setSearchState(function(prev){return _objectSpread(_objectSpread({},prev),{},{value:value,link:link});});}function handleKeyPress(e){if(e.key==='Enter'){history.push(searchState.link);}}return/*#__PURE__*/React.createElement(\"div\",{className:classModifier('search',[location.pathname==='/'?'main':'all'])},/*#__PURE__*/React.createElement(\"div\",{className:\"search__container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search-input__container\"},/*#__PURE__*/React.createElement(\"input\",{className:\"search-input\",type:\"text\",onChange:handleChange,onKeyPress:handleKeyPress,value:searchState.value,placeholder:words.searchPlaceholder}),/*#__PURE__*/React.createElement(NavLink,{to:searchState.link,className:\"search-input__button\"},/*#__PURE__*/React.createElement(\"span\",null,words.find)))));};export default Search;","map":{"version":3,"sources":["/home/vetal-home-work/Документы/apps/sincere/explorer-front/src/containers/Search/Search.tsx"],"names":["React","useContext","useState","NavLink","useLocation","useHistory","MultiLangContext","classModifier","ROUTES","Search","location","history","words","value","link","searchState","setSearchState","handleChange","e","target","split","join","length","setTxRoute","setAddressRoute","setBlockRoute","prev","handleKeyPress","key","push","pathname","searchPlaceholder","find"],"mappings":"6bAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,UAA/B,KAAiD,kBAAjD,CAEA,OAASC,gBAAT,KAAiC,mCAAjC,CAEA,MAAO,eAAP,CACA,OAASC,aAAT,KAA8B,aAA9B,CACA,OAASC,MAAT,KAAuB,wBAAvB,CAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAFmB,gBAGHJ,UAAU,CAACK,gBAAD,CAHP,CAGZM,KAHY,aAGZA,KAHY,eAKmBV,QAAQ,CAG3C,CACDW,KAAK,CAAE,EADN,CAEDC,IAAI,CAAE,GAFL,CAH2C,CAL3B,wCAKZC,WALY,eAKCC,cALD,eAanB,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAA8B,CAC5B,GAAML,CAAAA,KAAK,CAAGK,CAAC,CAACC,MAAF,CAASN,KAAT,CAAeO,KAAf,CAAqB,GAArB,EAA0BC,IAA1B,CAA+B,EAA/B,CAAd,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIP,CAAAA,IAAI,GAAR,CACA,GAAID,KAAK,CAACS,MAAN,GAAiB,EAArB,CAAyB,CACvBR,IAAI,CAAGN,MAAM,CAACe,UAAP,CAAkBV,KAAlB,CAAP,CACD,CAFD,IAEO,IAAIA,KAAK,CAACS,MAAN,GAAiB,EAArB,CAAyB,CAC9BR,IAAI,CAAGN,MAAM,CAACgB,eAAP,CAAuBX,KAAvB,CAAP,CACD,CAFM,IAEA,CACLC,IAAI,CAAGN,MAAM,CAACiB,aAAP,CAAqBZ,KAArB,CAAP,CACD,CAEDG,cAAc,CAAC,SAAAU,IAAI,wCACdA,IADc,MAEjBb,KAAK,CAALA,KAFiB,CAGjBC,IAAI,CAAJA,IAHiB,IAAL,CAAd,CAKD,CAED,QAASa,CAAAA,cAAT,CAAwBT,CAAxB,CAAgC,CAC9B,GAAIA,CAAC,CAACU,GAAF,GAAU,OAAd,CAAuB,CACrBjB,OAAO,CAACkB,IAAR,CAAad,WAAW,CAACD,IAAzB,EACD,CACF,CAGD,mBACE,2BAAK,SAAS,CAAEP,aAAa,CAAC,QAAD,CAC3B,CAAEG,QAAQ,CAACoB,QAAT,GAAsB,GAAvB,CAA8B,MAA9B,CAAuC,KAAxC,CAD2B,CAA7B,eAGE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,6BACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,CAAEb,YAHZ,CAIE,UAAU,CAAEU,cAJd,CAKE,KAAK,CAAEZ,WAAW,CAACF,KALrB,CAME,WAAW,CAAED,KAAK,CAACmB,iBANrB,EADF,cAUE,oBAAC,OAAD,EACE,EAAE,CAAEhB,WAAW,CAACD,IADlB,CAEE,SAAS,CAAC,sBAFZ,eAGE,gCAAOF,KAAK,CAACoB,IAAb,CAHF,CAVF,CADF,CAHF,CADF,CAyBD,CA3ED,CA6EA,cAAevB,CAAAA,MAAf","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { NavLink, useLocation, useHistory } from 'react-router-dom';\n\nimport { MultiLangContext } from '../../context/MultiLang/MultiLang';\n\nimport './Search.scss';\nimport { classModifier } from \"../../utils\";\nimport { ROUTES } from \"../../config/constants\";\n\n\nconst Search = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const {words} = useContext(MultiLangContext);\n\n  const [searchState, setSearchState] = useState<{\n    value: string | number;\n    link: string;\n  }>({\n    value: '',\n    link: '#',\n  });\n\n  function handleChange(e: any) {\n    const value = e.target.value.split(' ').join('');\n\n    // const link = () => { // TODO find work solution with switch/case\n    //   switch (value.length) {\n    //     case 64:\n    //       return ROUTES.setTxRoute(value);\n    //     case 40:\n    //       return ROUTES.setAddressRoute(value)\n    //     default:\n    //       return ROUTES.setBlockRoute(value)\n    //   }\n    // }\n\n    let link = ``;\n    if (value.length === 64) {\n      link = ROUTES.setTxRoute(value)\n    } else if (value.length === 40) {\n      link = ROUTES.setAddressRoute(value)\n    } else {\n      link = ROUTES.setBlockRoute(value)\n    }\n\n    setSearchState(prev => ({\n      ...prev,\n      value,\n      link,\n    }));\n  }\n\n  function handleKeyPress(e: any) {\n    if (e.key === 'Enter') {\n      history.push(searchState.link)\n    }\n  }\n\n\n  return (\n    <div className={classModifier('search',\n      [(location.pathname === '/') ? 'main' : 'all'],\n    )}>\n      <div className=\"search__container\">\n        <div className=\"search-input__container\">\n          <input\n            className='search-input'\n            type=\"text\"\n            onChange={handleChange}\n            onKeyPress={handleKeyPress}\n            value={searchState.value}\n            placeholder={words.searchPlaceholder}\n          />\n\n          <NavLink\n            to={searchState.link}\n            className='search-input__button'>\n            <span>{words.find}</span>\n          </NavLink>\n\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}